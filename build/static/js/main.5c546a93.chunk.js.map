{"version":3,"sources":["Filter.js","Person.js","AddPerson.js","services/persons.js","App.js","index.js"],"names":["Filter","personFilter","handleFilterChange","value","onChange","Person","person","deletePerson","name","number","type","onClick","PersonForm","handlenamechange","newname","newnumber","addperson","handlenumberchange","baseUrl","personService","getAll","axios","get","create","newObject","post","update","id","put","delete","App","useEffect","then","response","setPersons","data","useState","persons","newName","setNewName","setPersonFilter","newNumber","setNewNumber","confirmationMessage","setConfirmationMessage","personsToShow","filter","toLowerCase","includes","Notification","message","className","event","target","preventDefault","personObject","length","setTimeout","concat","map","window","confirm","deleteThisPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5c546a93.chunk.js","sourcesContent":["import React from 'react'\r\nconst Filter = ({personFilter, handleFilterChange}) => {\r\n\treturn(\r\n    <div>Filter people <input value={personFilter} onChange={handleFilterChange} /></div>\r\n    )\r\n  }\r\nexport default Filter","import React from 'react'\r\n\r\nconst Person = ({person, deletePerson}) => {\r\n  return (\r\n    <p>\r\n      {person.name} {person.number} \r\n    <button type='submit' onClick={() => deletePerson(person)}>Delete</button>\r\n    </p>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst PersonForm = ({handlenamechange, newname, newnumber, addperson, handlenumberchange}) => {\r\n\treturn (\r\n\t\t<form>\r\n\t\t\t<h1>Add a new person</h1>\r\n\t\t\t<div>\r\n\t\t\t\tname: <input value={newname} onChange={handlenamechange}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\tnumber: <input value={newnumber} onChange={handlenumberchange}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<button type=\"submit\" onClick={addperson}>add</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t)\r\n}\r\nexport default PersonForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst personService = {getAll, create, update, deletePerson}\r\n\r\nexport default personService","import React, { useState, useEffect } from 'react'\r\nimport Filter from './Filter'\r\nimport Person from './Person'\r\nimport PersonForm from './AddPerson'\r\nimport personService from './services/persons'\r\nimport './index.css'\r\n\r\nconst App = () => {\r\n\r\n  useEffect(() => {\r\n      personService\r\n      .getAll()\r\n      .then(response => {\r\n        setPersons(response.data)\r\n      })\r\n  }, [])\r\n\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [personFilter, setPersonFilter] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [confirmationMessage, setConfirmationMessage] = useState(null)\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n      event.preventDefault()\r\n      const personObject = {name: newName, number: newNumber}\r\n      const onko = persons.filter(person => person.name.toLowerCase() === newName.toLowerCase())\r\n      if (onko.length > 0) {\r\n        setConfirmationMessage(`${personObject.name} is already in the phonebook`) \r\n        setTimeout(() => {\r\n          setConfirmationMessage(null)\r\n        }, 2500)\r\n      }\r\n      else {\r\n        personService\r\n        .create(personObject)\r\n        .then(response => {\r\n          setPersons(persons.concat(personObject))\r\n        })\r\n        .then(setConfirmationMessage(`${personObject.name} was added succesfully`), \r\n        setTimeout(() => {\r\n          setConfirmationMessage(null)\r\n        }, 2500))\r\n      }\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setPersonFilter(event.target.value)\r\n  }\r\n\r\n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(personFilter))\r\n\r\n  const deleteThisPerson = (person) => {\r\n    if(window.confirm(`Delete ${person.name}?`)){\r\n      personService.deletePerson(person.id)\r\n      .then(setConfirmationMessage(`${person.name} was deleted`), \r\n        setTimeout(() => {\r\n          setConfirmationMessage(null)\r\n        }, 2500))\r\n    }\r\n  }\r\n\r\n  const Notification = ({message}) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n    return (\r\n      <div className='confirmation'>\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={confirmationMessage} />\r\n      <Filter handleFilterChange={handleFilterChange} personFilter={personFilter}/>\r\n      <PersonForm \r\n        handlenamechange={handleNameChange} \r\n        newname={newName} \r\n        newnumber={newNumber} \r\n        addperson={addPerson} \r\n        handlenumberchange={handleNumberChange}/>\r\n      <h2>Numbers</h2>\r\n      {personsToShow.map(person => \r\n        <Person \r\n        key={person.name} \r\n        person={person} \r\n        deletePerson={() => deleteThisPerson(person)}\r\n        />)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />,document.getElementById('root'));\n\n"],"sourceRoot":""}